<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุตูุญุฉ 18 - ูุธุงู ุงูุชุณุนูุฑ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="pdf-export.js"></script>
</head>
<body>
    <div class="container">
        <div class="navigation-header">
            <a href="index.html" class="btn-home">๐ ุงูููุฑุณ ุงูุฑุฆูุณู</a>
            <span class="page-number">ุตูุญุฉ 18 ูู 33</span>
        </div>

        <!-- ุฃุฒุฑุงุฑ ุชุตุฏูุฑ PDF -->
        <div class="pdf-buttons">
            <button onclick="exportCurrentPageToPDF()" class="btn-pdf btn-pdf-single">
                ๐ ุชุตุฏูุฑ ูุฐู ุงูุตูุญุฉ PDF
            </button>
            <button onclick="exportAllPagesToPDF()" class="btn-pdf btn-pdf-all">
                ๐ ุชุตุฏูุฑ ุฌููุน ุงูุตูุญุงุช PDF
            </button>
        </div>


        <div class="content">
            <h1>๐ฐ Advanced Pricing System โ ูุธุงู ุงูุชุณุนูุฑ ุงููุชูุฏู</h1>
            <p class="subtitle">Full Technical & Business Specification</p>

            <div class="info-box">
                <strong>๐ ุงูุบุฑุถ:</strong>
                <p>ูุธุงู ุชุณุนูุฑ ุดุงูู ูุฏุนู ุฌููุน ุฃููุงุน ุงูุชุณุนูุฑ: ุงูุซุงุจุชุ ุงูุชูุงูููุ ุงููููุงุชุ ุดุฑุงุฆุญ ุงูุนููุงุกุ ูุงูุญููุงุช ุงูุชุฑููุฌูุฉ ูุน ูุญุฑู ุชุณุนูุฑ ุฐูู.</p>
            </div>

            <hr>

            <h2>1. System Architecture โ ุงููููู ุงููุนูุงุฑู ๐๏ธ</h2>

            <h3>1.1 Presentation Layer โ ุทุจูุฉ ุงูุนุฑุถ</h3>
            <div class="scenario-box">
                <h4>๐ฑ ุงูููููุงุช:</h4>
                <ul>
                    <li><strong>ุตูุญุฉ ุงูููุชุฌ:</strong> ุนุฑุถ ุงูุณุนุฑ ุงูุฃุณุงุณู ูุงููุฎูุถ</li>
                    <li><strong>ุตูุญุฉ ุงูุชูุงููู:</strong> ุญุณุงุจ ุงูุณุนุฑ ุนูุฏ ุงุฎุชูุงุฑ ุงูููู/ุงูููุงุณ</li>
                    <li><strong>ุณููู ุงููููุฉ:</strong> ุชุญุฏูุซ ุงูุณุนุฑ ุชููุงุฆูุงู ุนูุฏ ุชุบููุฑ ุงููููุฉ</li>
                    <li><strong>ุนุฑุถ ุงูุฎุตููุงุช:</strong> ุฅุธูุงุฑ ุงูุณุนุฑ ูุจู ูุจุนุฏ ุงูุฎุตู</li>
                </ul>
                <h4>๐ก API Calls:</h4>
                <ul>
                    <li><code>/pricing/calculate</code> - ุญุณุงุจ ุงูุณุนุฑ ุงูููุงุฆู</li>
                    <li><code>/pricing/get-variation-price</code> - ุณุนุฑ ุงูุชูุงููู</li>
                </ul>
            </div>

            <h3>1.2 Services Layer โ ุทุจูุฉ ุงูุฎุฏูุงุช</h3>
            <table>
                <thead>
                    <tr>
                        <th>ุงูุฎุฏูุฉ</th>
                        <th>ุงููุณุคูููุฉ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Variations Service</strong></td>
                        <td>ุฅุฏุงุฑุฉ ุงูุชูุงููู ูุงูููุงุตูุงุช</td>
                    </tr>
                    <tr>
                        <td><strong>Pricing Rules Service</strong></td>
                        <td>ุฅุฏุงุฑุฉ ููุงุนุฏ ุงูุชุณุนูุฑ</td>
                    </tr>
                    <tr>
                        <td><strong>Tiered Pricing Service</strong></td>
                        <td>ุฅุฏุงุฑุฉ ุงูุดุฑุงุฆุญ ูุงููููุงุช</td>
                    </tr>
                    <tr>
                        <td><strong>Price Guard</strong></td>
                        <td>ูุฑุงุฌุนุฉ ูุญูุงูุฉ ุงูุชุณุนูุฑ</td>
                    </tr>
                    <tr>
                        <td><strong>Price Audit Service</strong></td>
                        <td>ุชุฏููู ุงูุชุบููุฑุงุช</td>
                    </tr>
                </tbody>
            </table>

            <h3>1.3 Pricing Engine โ ูุญุฑู ุงูุชุณุนูุฑ ๐ฏ</h3>
            <div class="info-box">
                <p><strong>ูู ุงูุนูู ุงูุฑุฆูุณู ูููุธุงู ููููู ุจู:</strong></p>
                <ol>
                    <li>ูุฑุงุกุฉ ููุน ุชุณุนูุฑ ุงูููุชุฌ</li>
                    <li>ุชุญุฏูุฏ: ุซุงุจุช / Variation-Based / Quantity-Based</li>
                    <li>ุชุทุจูู ููุงุนุฏ ุงูุชุณุนูุฑ ุจุงูุชุฏุฑุฌ</li>
                    <li>ุฏูุฌ ูู ุฃููุงุน ุงูุฎุตููุงุช</li>
                    <li>ุฅูุชุงุฌ ุงูุณุนุฑ ุงูููุงุฆู</li>
                </ol>
            </div>

            <h4>๐ ุชุฑุชูุจ ุงูุฃููููุฉ ูู ุงูุญุณุงุจ:</h4>
            <table>
                <thead>
                    <tr>
                        <th>ุงูุฎุทูุฉ</th>
                        <th>ุงูุนูููุฉ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><strong>Base Price</strong> - ุงูุณุนุฑ ุงูุฃุณุงุณู</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><strong>Attribute Price</strong> - ุณุนุฑ ุงูุชูุงููู</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><strong>Quantity Adjustments</strong> - ุชุนุฏููุงุช ุงููููุฉ</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><strong>Customer Segment Rules</strong> - ููุงุนุฏ ุดุฑุงุฆุญ ุงูุนููุงุก</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td><strong>Promotional Rules</strong> - ููุงุนุฏ ุงูุญููุงุช</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td><strong>Taxes</strong> - ุงูุถุฑุงุฆุจ</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td><strong>Final Price</strong> - ุงูุณุนุฑ ุงูููุงุฆู</td>
                    </tr>
                </tbody>
            </table>

            <h3>1.4 Data Layer โ ุทุจูุฉ ุงูุจูุงูุงุช</h3>
            <ul>
                <li>ุฌุฏุงูู ุงูุชูุงููู (Variations)</li>
                <li>ุฌุฏุงูู ููุงุนุฏ ุงูุชุณุนูุฑ (Pricing Rules)</li>
                <li>ุฌุฏุงูู ุดุฑุงุฆุญ ุงููููุงุช (Quantity Tiers)</li>
                <li>ุฌุฏุงูู ุงูุชุฏููู (Audit Logs)</li>
                <li>ุฌุฏุงูู ุงูุนููุงุก (Customer Segments)</li>
                <li>ุฌุฏุงูู ุงูุญููุงุช (Campaigns)</li>
            </ul>

            <hr>

            <h2>2. Pricing Types โ ุฃููุงุน ุงูุชุณุนูุฑ ุงูุฃุณุงุณูุฉ ๐ฒ</h2>

            <h3>ุงูููุน 1: Fixed Pricing โ ุงูุณุนุฑ ุงูุซุงุจุช</h3>
            
            <h4>2.1 ุชุนุฑูู</h4>
            <p>ุณุนุฑ ูุงุญุฏ ุซุงุจุช ูุง ูุชุบูุฑ ุญุณุจ ุงูููู/ุงูููุงุณ ุฃู ุงููููุฉ.</p>

            <h4>2.2 ุงูุงุณุชุฎุฏุงูุงุช:</h4>
            <ul>
                <li>ุงููุชุจ</li>
                <li>ุงูุฃุฏูุงุช ุงูููุชุจูุฉ</li>
                <li>ุงูููุชุฌุงุช ููุฎูุถุฉ ุงูุชุนููุฏ</li>
            </ul>

            <h4>2.3 ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช:</h4>
            <div class="scenario-box">
                <h4>๐ Table: Products_FixedPricing</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ProductID</td>
                            <td>INT</td>
                            <td>ููุชุงุญ ุฑุฆูุณู</td>
                        </tr>
                        <tr>
                            <td>BasePrice</td>
                            <td>DECIMAL</td>
                            <td>ุงูุณุนุฑ ุงูุฃุณุงุณู</td>
                        </tr>
                        <tr>
                            <td>Currency</td>
                            <td>VARCHAR(3)</td>
                            <td>ุงูุนููุฉ (EGP, USD)</td>
                        </tr>
                        <tr>
                            <td>IsTaxable</td>
                            <td>BOOLEAN</td>
                            <td>ูู ูุฎุถุน ููุถุฑูุจุฉ</td>
                        </tr>
                        <tr>
                            <td>TaxRate</td>
                            <td>DECIMAL</td>
                            <td>ูุณุจุฉ ุงูุถุฑูุจุฉ (14%)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4>2.4 ููุทู ุงูุญุณุงุจ:</h4>
            <div class="info-box">
                <code>FinalPrice = (BasePrice + Tax) ร Quantity</code>
            </div>

            <hr>

            <h3>ุงูููุน 2: Attribute-Based Pricing โ ุชุณุนูุฑ ุงูุชูุงููู</h3>

            <h4>2.1 ุชุนุฑูู</h4>
            <p>ูู Variation ูู ุณุนุฑ ูุณุชููุ SKU ูุณุชููุ ูุฒู ูุฎุชููุ ููุฎุฒูู ูุฎุชูู.</p>

            <h4>2.2 ุฃูุซูุฉ:</h4>
            <ul>
                <li>ุงูููุงุจุณ (ููู + ููุงุณ + ุฎุงูุฉ)</li>
                <li>ุงูุฃุฌูุฒุฉ (ุณุนุฉ ุงูุชุฎุฒูู + ุงูููู)</li>
                <li>ุงูููุงุชู (RAM + Storage + Color)</li>
            </ul>

            <h4>2.3 ุฌุฏูู ุงูุชูุงููู:</h4>
            <div class="scenario-box">
                <h4>๐ Table: Product_Variations</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>VariationID</td>
                            <td>INT</td>
                            <td>ููุชุงุญ ุฑุฆูุณู</td>
                        </tr>
                        <tr>
                            <td>ProductID</td>
                            <td>INT</td>
                            <td>ุงูููุชุฌ ุงูุฃุตูู</td>
                        </tr>
                        <tr>
                            <td>SKU</td>
                            <td>VARCHAR</td>
                            <td>ููุฏ ุงููุฎุฒูู ุงููุฑูุฏ</td>
                        </tr>
                        <tr>
                            <td>Attributes</td>
                            <td>JSON</td>
                            <td>{"color": "red", "size": "XL"}</td>
                        </tr>
                        <tr>
                            <td>BasePrice</td>
                            <td>DECIMAL</td>
                            <td>ุงูุณุนุฑ ุงูุฃุณุงุณู</td>
                        </tr>
                        <tr>
                            <td>StockQuantity</td>
                            <td>INT</td>
                            <td>ุงููุฎุฒูู ุงููุชุงุญ</td>
                        </tr>
                        <tr>
                            <td>Weight</td>
                            <td>DECIMAL</td>
                            <td>ุงููุฒู (ูุฌู)</td>
                        </tr>
                        <tr>
                            <td>IsActive</td>
                            <td>BOOLEAN</td>
                            <td>ูุดุท ุฃู ูุง</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4>2.4 ููุงุนุฏ ุชุณุนูุฑ ุฅุถุงููุฉ ุญุณุจ ุงูุชูุงููู:</h4>
            <div class="scenario-box">
                <h4>๐ Table: Attribute_PricingRules</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>RuleID</td>
                            <td>INT</td>
                            <td>ููุชุงุญ ุฑุฆูุณู</td>
                        </tr>
                        <tr>
                            <td>ProductID</td>
                            <td>INT</td>
                            <td>ุงูููุชุฌ</td>
                        </tr>
                        <tr>
                            <td>Condition</td>
                            <td>JSON</td>
                            <td>ุดุฑูุท (size=XL)</td>
                        </tr>
                        <tr>
                            <td>AdjustmentType</td>
                            <td>ENUM</td>
                            <td>fixed / percentage / override</td>
                        </tr>
                        <tr>
                            <td>AdjustmentValue</td>
                            <td>DECIMAL</td>
                            <td>ูููุฉ ุงูุชุนุฏูู</td>
                        </tr>
                        <tr>
                            <td>Priority</td>
                            <td>INT</td>
                            <td>ุงูุฃููููุฉ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4>2.5 ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุณุนุฑ:</h4>
            <div class="info-box">
                <ol>
                    <li>ุฅูุฌุงุฏ ุงูุชูุงููู ุงููุญุฏุฏ</li>
                    <li>ุฃุฎุฐ BasePrice ูู ุฌุฏูู Variations</li>
                    <li>ุชุทุจูู ููุงุนุฏ Attribute Pricing</li>
                    <li>ุถุฑุจ ูู ุงููููุฉ</li>
                    <li>ุฅุถุงูุฉ ุงูุถุฑุงุฆุจ</li>
                </ol>
            </div>

            <hr>

            <h3>ุงูููุน 3: Quantity-Based Pricing โ ุชุณุนูุฑ ุงููููุฉ</h3>

            <h4>3.1 ุชุนุฑูู</h4>
            <p>ุชุณุนูุฑ ูุนุชูุฏ ุนูู ุดุฑุงุฆุญ ุงููููุงุช (Tiers) ูุน ุฏุนู B2B/Wholesale.</p>

            <h4>3.2 ุฌุฏูู ุงูุชุณุนูุฑ ุงูุดุฑุงุฆุญู:</h4>
            <div class="scenario-box">
                <h4>๐ Table: Quantity_PricingTiers</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TierID</td>
                            <td>INT</td>
                            <td>ููุชุงุญ</td>
                        </tr>
                        <tr>
                            <td>ProductID</td>
                            <td>INT</td>
                            <td>ุงูููุชุฌ</td>
                        </tr>
                        <tr>
                            <td>MinQuantity</td>
                            <td>INT</td>
                            <td>ุงูุญุฏ ุงูุฃุฏูู</td>
                        </tr>
                        <tr>
                            <td>MaxQuantity</td>
                            <td>INT</td>
                            <td>ุงูุญุฏ ุงูุฃูุตู</td>
                        </tr>
                        <tr>
                            <td>PriceType</td>
                            <td>ENUM</td>
                            <td>fixed / percentage_discount / fixed_discount</td>
                        </tr>
                        <tr>
                            <td>PriceValue</td>
                            <td>DECIMAL</td>
                            <td>ูููุฉ ุงูุฎุตู</td>
                        </tr>
                        <tr>
                            <td>ApplyTo</td>
                            <td>ENUM</td>
                            <td>unit / total</td>
                        </tr>
                        <tr>
                            <td>CustomerGroup</td>
                            <td>VARCHAR</td>
                            <td>ูุฌููุนุฉ ุงูุนููุงุก (B2B, VIP)</td>
                        </tr>
                        <tr>
                            <td>ValidFrom</td>
                            <td>DATETIME</td>
                            <td>ุจุฏุงูุฉ ุงูุตูุงุญูุฉ</td>
                        </tr>
                        <tr>
                            <td>ValidTo</td>
                            <td>DATETIME</td>
                            <td>ููุงูุฉ ุงูุตูุงุญูุฉ</td>
                        </tr>
                        <tr>
                            <td>Priority</td>
                            <td>INT</td>
                            <td>ุงูุฃููููุฉ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4>3.3 ูุซุงู:</h4>
            <table>
                <thead>
                    <tr>
                        <th>ูู</th>
                        <th>ุฅูู</th>
                        <th>ุงูุณุนุฑ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>10</td>
                        <td>50 ุฌููู</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>50</td>
                        <td>10% ุฎุตู</td>
                    </tr>
                    <tr>
                        <td>50+</td>
                        <td>โ</td>
                        <td>15% ุฎุตู</td>
                    </tr>
                </tbody>
            </table>

            <hr>

            <h2>3. Pricing Engine โ ุฏูุฌ ุงูุฃูุธูุฉ ุงูุซูุงุซุฉ โ๏ธ</h2>

            <h3>3.1 ุงูุชุฑุชูุจ ุงูุตุญูุญ</h3>
            <table>
                <thead>
                    <tr>
                        <th>ุฎุทูุฉ</th>
                        <th>ูุงุฐุง ูุญุฏุซุ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>ุฌูุจ Base Price ูู ุงูููุชุฌ</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>ุชุทุจูู Attribute Pricing (ุฅู ูุฌุฏ)</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>ุชุทุจูู Quantity Pricing (ุญุณุจ ุงูุดุฑูุญุฉ)</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>ุชุทุจูู Customer Segment Rules</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>ุชุทุจูู Promotional Rules (ุญููุงุช)</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>ุญุณุงุจ Final Price</td>
                    </tr>
                </tbody>
            </table>

            <hr>

            <h2>4. Unified Pricing Rules Table ๐</h2>
            <p>ูููู ุชุฎุฒูู ูู ุงูููุงุนุฏ ูู ุฌุฏูู ูุงุญุฏ ููุญุฏ:</p>

            <div class="scenario-box">
                <h4>๐ Table: Unified_PricingRules</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>RuleID</td>
                            <td>INT</td>
                            <td>ููุชุงุญ</td>
                        </tr>
                        <tr>
                            <td>RuleName</td>
                            <td>VARCHAR</td>
                            <td>ุงุณู ุงููุงุนุฏุฉ</td>
                        </tr>
                        <tr>
                            <td>RuleType</td>
                            <td>ENUM</td>
                            <td>attribute / quantity / customer / promotion / temporal</td>
                        </tr>
                        <tr>
                            <td>Target</td>
                            <td>ENUM</td>
                            <td>product / category / global</td>
                        </tr>
                        <tr>
                            <td>Conditions</td>
                            <td>JSON</td>
                            <td>ุดุฑูุท ุงูุชุทุจูู</td>
                        </tr>
                        <tr>
                            <td>Actions</td>
                            <td>JSON</td>
                            <td>ูุงุฐุง ููุนู</td>
                        </tr>
                        <tr>
                            <td>Priority</td>
                            <td>INT</td>
                            <td>ุฃููููุฉ ุงูุชูููุฐ</td>
                        </tr>
                        <tr>
                            <td>IsCombinable</td>
                            <td>BOOLEAN</td>
                            <td>ูู ุชุชุฌูุน ูุน ููุงุนุฏ ุฃุฎุฑู</td>
                        </tr>
                        <tr>
                            <td>MaxApplications</td>
                            <td>INT</td>
                            <td>ุนุฏุฏ ูุฑุงุช ุงูุชุทุจูู</td>
                        </tr>
                        <tr>
                            <td>ValidFrom</td>
                            <td>DATETIME</td>
                            <td>ูุนุงู ูู</td>
                        </tr>
                        <tr>
                            <td>ValidTo</td>
                            <td>DATETIME</td>
                            <td>ูุนุงู ุญุชู</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <h2>5. Pricing Scenarios โ ุณููุงุฑูููุงุช ุนูููุฉ ๐ฏ</h2>

            <h3>5.1 ุณููุงุฑูู: Dynamic Multi Factor Pricing</h3>
            <div class="scenario-box">
                <p><strong>ุงูููุชุฌ:</strong> ุชูุดูุฑุช ุฑูุงุถู</p>
                <p><strong>ุงูููุงุนุฏ ุงููุทุจูุฉ:</strong></p>
                <ol>
                    <li>ุชูุงููู XL ุชุถูู <strong>20 ุฌููู</strong></li>
                    <li>ุดุฑุงุก 10+ ูู ุงูุนููู VIP ูุฎุตู <strong>15%</strong></li>
                    <li>ูู 6 ูุณุงุกู ูู 10 ูุณุงุกู ุฎุตู <strong>10% ุฅุถุงูู</strong></li>
                </ol>
                <p><strong>ุงูุญุณุงุจ:</strong></p>
                <ul>
                    <li>Base Price: 200</li>
                    <li>+ XL Adjustment: 20 โ 220</li>
                    <li>ร Quantity 12: 2640</li>
                    <li>- VIP Discount 15%: 2244</li>
                    <li>- Time-based 10%: <strong>2019.6 ุฌููู</strong></li>
                </ul>
            </div>

            <h3>5.2 ุณููุงุฑูู: Competitive Pricing</h3>
            <div class="info-box">
                <p>ููุงุฑูุฉ ุณุนุฑ ุงูููุชุฌ ูุน ุงูููุงูุณูู ูุฎูุถ ุฃู ุฑูุน ุงูุณุนุฑ ุชููุงุฆูุงู ุจูุงุกู ุนูู ุงูุณูู.</p>
            </div>

            <hr>

            <h2>6. Price Audit & Governance โ ุงูุชุฏููู ูุงูุญูููุฉ ๐</h2>

            <h3>6.1 Price Audit Table:</h3>
            <div class="scenario-box">
                <h4>๐ Table: Price_AuditLog</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>AuditID</td>
                            <td>INT</td>
                            <td>ููุชุงุญ</td>
                        </tr>
                        <tr>
                            <td>ProductID</td>
                            <td>INT</td>
                            <td>ุงูููุชุฌ</td>
                        </tr>
                        <tr>
                            <td>OldPrice</td>
                            <td>DECIMAL</td>
                            <td>ุงูุณุนุฑ ุงููุฏูู</td>
                        </tr>
                        <tr>
                            <td>NewPrice</td>
                            <td>DECIMAL</td>
                            <td>ุงูุณุนุฑ ุงูุฌุฏูุฏ</td>
                        </tr>
                        <tr>
                            <td>ChangeReason</td>
                            <td>ENUM</td>
                            <td>manual / campaign / market / rule</td>
                        </tr>
                        <tr>
                            <td>ChangedBy</td>
                            <td>INT</td>
                            <td>ุงููุณุชุฎุฏู</td>
                        </tr>
                        <tr>
                            <td>ChangedAt</td>
                            <td>DATETIME</td>
                            <td>ุงูุชุงุฑูุฎ ูุงูููุช</td>
                        </tr>
                        <tr>
                            <td>Metadata</td>
                            <td>JSON</td>
                            <td>ุจูุงูุงุช ุฅุถุงููุฉ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>6.2 Price Guard โ ุญุงุฑุณ ุงูุฃุณุนุงุฑ:</h3>
            <ul>
                <li>ููุน ุชุบููุฑุงุช ุงูุณุนุฑ ุงููุจูุฑุฉ (ุฃูุซุฑ ูู 50%)</li>
                <li>ููุน ุงูุณุนุฑ ุฃูู ูู Cost Price</li>
                <li>ููุน ุชุถุงุฑุจ ููุงุนุฏ ุงูุชุณุนูุฑ</li>
                <li>ุชูุจูู ุงูุฅุฏุงุฑุฉ ุนูุฏ ุงูุชุบููุฑุงุช ุงูุญุฑุฌุฉ</li>
            </ul>

            <hr>

            <h2>7. ููุฒุงุช ุงููุธุงู ุงููุชูุฏู โจ</h2>

            <div class="info-box">
                <ul>
                    <li>โ ุฏุนู ูู ุฃููุงุน ุงูุชุณุนูุฑ (Fixed, Attributes, Quantity)</li>
                    <li>โ ุฏุนู ุชูุงููู ุบูุฑ ูุญุฏูุฏุฉ</li>
                    <li>โ ุฏุนู ุดุฑุงุฆุญ ุงููููุงุช</li>
                    <li>โ ุฏุนู ุดุฑุงุฆุญ ุงูุนููุงุก (B2B, VIP, Regular)</li>
                    <li>โ ูุธุงู ููุงุนุฏ ููุญุฏ ููุฑู</li>
                    <li>โ ูุธุงู ูุฑุงุฌุนุฉ ูุชุฏููู ูุงูู</li>
                    <li>โ Price Guard ูุญูุงูุฉ ุงูุชุณุนูุฑ</li>
                    <li>โ ุฏุนู ุงูุญููุงุช ูุงูุฎุตููุงุช ูุงูุชุณุนูุฑ ุงูุฒููู</li>
                    <li>โ API ูุชูุฏู ูุญุณุงุจ ุงูุฃุณุนุงุฑ</li>
                    <li>โ ุชูุงูู ูุน ูุธุงู ุงููุฎุฒูู</li>
                </ul>
            </div>

            <hr>

            <h2>8. Multi-Level Pricing Control โ ุงูุชุญูู ูุชุนุฏุฏ ุงููุณุชููุงุช ๐๏ธ</h2>

            <h3>8.1 Overview โ ูุธุฑุฉ ุนุงูุฉ</h3>
            <p>ูุธุงู ุงูุชุณุนูุฑ ูุชุนุฏุฏ ุงููุณุชููุงุช ูููุฑ ุขููุฉ ููุชุญูู ูู ุฃูุธูุฉ ุงูุชุณุนูุฑ ุนูู ูุณุชูููู ุฑุฆูุณููู:</p>

            <div class="scenario-box">
                <h4>๐น Level 1 โ System Level (Tenant Subscription)</h4>
                <p>ุงูููุตุฉ ุชุญุฏุฏ ุงูุฃูุธูุฉ ุงููุณููุญ ููุนููู (Tenant) ุจุงุณุชุฎุฏุงููุง ุญุณุจ ุฎุทุฉ ุงูุงุดุชุฑุงู:</p>
                <ul>
                    <li><strong>Standard Plan</strong> โ Fixed Pricing ููุท</li>
                    <li><strong>Professional Plan</strong> โ Fixed + Attribute</li>
                    <li><strong>Enterprise Plan</strong> โ Fixed + Attribute + Quantity</li>
                </ul>
            </div>

            <div class="scenario-box">
                <h4>๐น Level 2 โ Category Level (Tenant Configuration)</h4>
                <p>ุงูุนููู (Tenant) ูุฎุชุงุฑ ุฃู ูู ุงูุฃูุธูุฉ ุงููุชุงุญุฉ ูู ููุชู ุชุทุจูููุง ุนูู ูู ูุฆุฉ (Category).</p>
                <p><strong>ููุงุญุธุงุช:</strong></p>
                <ul>
                    <li>ูููู ุชูุนูู ูุธุงู ูุงุญุฏ ุฃู ุฃูุซุฑ (ุญุชู Attribute + Quantity ูุนูุง)</li>
                    <li>ุงูููุชุฌุงุช ุชุฑุซ ููุงุนุฏ ุงูุชุณุนูุฑ ูู ุงูู Category</li>
                    <li>ูุง ูููู ุชูุนูู ูุธุงู ุบูุฑ ูุณููุญ ุจู ุนูู ูุณุชูู ุงูุงุดุชุฑุงู</li>
                </ul>
            </div>

            <h3>8.2 Supported Scenarios โ ุงูุณููุงุฑูููุงุช ุงููุฏุนููุฉ</h3>
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>ุงูุณููุงุฑูู</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Tenant ููุชูู AttributePricing โ ููููู ุชูุนููู ูู ุฃู Category</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Tenant ููุชูู QuantityPricing โ ููููู ุชูุนููู ูู ุฃู Category</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>ูููู ุชูุนูู ุงููุธุงููู ูุนูุง ุฏุงุฎู ููุณ ุงูู Category</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>ุฅุฐุง ุชู ุชูุนูู (Attribute + Quantity) โ ุงูููุชุฌ ูุตุจุญ Hybrid Pricing</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>ูููู ุฅููุงู ูุธุงู ุนูู ูุณุชูู Category ุฏูู ุฅููุงูู ุนูู ูุณุชูู System</td>
                    </tr>
                </tbody>
            </table>

            <h3>8.3 Architecture Layers โ ุงูุทุจูุงุช ุงููุนูุงุฑูุฉ</h3>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   System Level Permissions     โ  โ  ูุญุฏุฏ ูุง ูู ุงููุชุงุญ ุญุณุจ ุงูุงุดุชุฑุงู
โโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Category-Level Configuration โ  โ  ูุญุฏุฏ ูุง ูุณุชุฎุฏู ูุนูููุง
โโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ       Product Pricing Mode     โ  โ  Fixed / Attribute / Quantity / Hybrid
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                </pre>
            </div>

            <h3>8.4 Database Schema โ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</h3>

            <h4>8.4.1 Tenant Features โ ุตูุงุญูุงุช ุฃูุธูุฉ ุงูุชุณุนูุฑ</h4>
            <div class="scenario-box">
                <h4>๐ Table: TenantFeatures</h4>
                <pre style="text-align: left; direction: ltr; font-family: monospace; font-size: 0.9em;">
CREATE TABLE TenantFeatures (
    Id INT PRIMARY KEY IDENTITY,
    TenantId INT NOT NULL,
    FeatureName NVARCHAR(50) NOT NULL,  -- 'AttributePricing', 'QuantityPricing'
    IsEnabled BIT DEFAULT 0,
    FOREIGN KEY (TenantId) REFERENCES Tenants(TenantId)
);
                </pre>
            </div>

            <h4>8.4.2 Categories โ ุฌุฏูู ุงูุชุตูููุงุช</h4>
            <div class="scenario-box">
                <h4>๐ Table: Categories</h4>
                <pre style="text-align: left; direction: ltr; font-family: monospace; font-size: 0.9em;">
CREATE TABLE Categories (
    CategoryId INT PRIMARY KEY IDENTITY,
    TenantId INT NOT NULL,
    CategoryName NVARCHAR(255) NOT NULL,
    CategoryDescription NVARCHAR(MAX),
    ParentCategoryId INT NULL,
    IsActive BIT DEFAULT 1,
    SortOrder INT DEFAULT 0,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 DEFAULT GETDATE(),
    FOREIGN KEY (TenantId) REFERENCES Tenants(TenantId),
    FOREIGN KEY (ParentCategoryId) REFERENCES Categories(CategoryId)
);
                </pre>
            </div>

            <h4>8.4.3 Category Pricing Configuration</h4>
            <div class="scenario-box">
                <h4>๐ Table: CategoryPricingConfig</h4>
                <pre style="text-align: left; direction: ltr; font-family: monospace; font-size: 0.9em;">
CREATE TABLE CategoryPricingConfig (
    ConfigId INT PRIMARY KEY IDENTITY,
    CategoryId INT NOT NULL,
    PricingType NVARCHAR(20) NOT NULL,  -- 'Fixed', 'Attribute', 'Quantity'
    IsEnabled BIT DEFAULT 1,
    Priority INT DEFAULT 0,
    ConfigJson NVARCHAR(MAX),
    EnabledAt DATETIME2 DEFAULT GETDATE(),
    EnabledBy INT NULL,
    FOREIGN KEY (CategoryId) REFERENCES Categories(CategoryId),
    UNIQUE (CategoryId, PricingType)
);
                </pre>
            </div>

            <h4>8.4.4 Product Pricing Type</h4>
            <div class="scenario-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace; font-size: 0.9em;">
ALTER TABLE Products
ADD PricingType INT NOT NULL DEFAULT 1;  
-- 1 = Fixed, 2 = Attribute, 3 = Quantity, 4 = Hybrid
                </pre>
            </div>

            <h3>8.5 Pricing Activation Logic โ ููุทู ุงูุชูุนูู</h3>

            <h4>8.5.1 System Level Validation</h4>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
IF TenantFeatures.FeatureName = 'AttributePricing' AND IsEnabled = 1
    โ ูุณููุญ
ELSE
    โ ุบูุฑ ูุณููุญ ุจุชูุนูู ุงููุธุงู ุฏุงุฎู Category
                </pre>
            </div>

            <h4>8.5.2 Category Level Validation</h4>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
IF CategoryPricingConfig.IsEnabled = 1
    โ ุงููุธุงู ููุนูู ุฏุงุฎู ูุฐุง ุงูู Category
                </pre>
            </div>

            <h4>8.5.3 Product Pricing Type Determination</h4>
            <table>
                <thead>
                    <tr>
                        <th>Category Settings</th>
                        <th>Product.PricingType</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Fixed only</td>
                        <td>Fixed (1)</td>
                    </tr>
                    <tr>
                        <td>Attribute only</td>
                        <td>Attribute (2)</td>
                    </tr>
                    <tr>
                        <td>Quantity only</td>
                        <td>Quantity (3)</td>
                    </tr>
                    <tr>
                        <td>Attribute + Quantity</td>
                        <td>Hybrid (4)</td>
                    </tr>
                </tbody>
            </table>

            <h3>8.6 Business Rules โ ููุงุนุฏ ุงูุนูู</h3>

            <div class="scenario-box">
                <h4>๐ Rule 1 โ System Level Restriction</h4>
                <p>ูุง ูููู ููู Tenant ุงุณุชุฎุฏุงู ูุธุงู ุบูุฑ ููุฌูุฏ ูู ุงุดุชุฑุงูู</p>
                <code>TenantFeatures.IsEnabled = FALSE โ Reject</code>
            </div>

            <div class="scenario-box">
                <h4>๐ Rule 2 โ Multiple Systems Per Category</h4>
                <p>ูููู ููู Tenant ุชูุนูู ูุธุงู ุฃู ุฃูุซุฑ ุฏุงุฎู Category:</p>
                <ul>
                    <li>Fixed Pricing ูุง ูุญุชุงุฌ ุชูุนูู</li>
                    <li>Attribute ู Quantity ูุญุชุงุฌุง ุชูุนูู ูุฏูู</li>
                </ul>
            </div>

            <div class="scenario-box">
                <h4>๐ Rule 3 โ Hybrid Pricing Auto-Enable</h4>
                <p>ูุชู ุชูุนูู Hybrid ุชููุงุฆููุง ุนูุฏูุง:</p>
                <code>Attribute.Enabled = TRUE AND Quantity.Enabled = TRUE</code>
            </div>

            <div class="scenario-box">
                <h4>๐ Rule 4 โ Cascade Updates</h4>
                <p>ุนูุฏ ุชุญุฏูุซ ุงูู Categoryุ ูุชู ุชุญุฏูุซ ุฌููุน ุงูููุชุฌุงุช ุงูุชุงุจุนุฉ</p>
            </div>

            <h3>8.7 Use Cases โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู</h3>

            <h4>Use Case 1 โ Tenant ูุน ูู ุงูุตูุงุญูุงุช</h4>
            <div class="scenario-box">
                <p><strong>System Level:</strong></p>
                <ul>
                    <li>โ AttributePricing Enabled</li>
                    <li>โ QuantityPricing Enabled</li>
                </ul>
                <p><strong>Category Level:</strong></p>
                <p>ุงูุชุงุฌุฑ ูุฎุชุงุฑ:</p>
                <ul>
                    <li>Attribute: Enabled</li>
                    <li>Quantity: Enabled</li>
                </ul>
                <p><strong>ุงููุชูุฌุฉ:</strong></p>
                <code>Products.PricingType = Hybrid (4)</code>
            </div>

            <h4>Use Case 2 โ Tenant ูุน AttributePricing ููุท</h4>
            <div class="scenario-box">
                <p><strong>System Level:</strong></p>
                <ul>
                    <li>โ AttributePricing Enabled</li>
                    <li>โ QuantityPricing Disabled</li>
                </ul>
                <p><strong>Category Level:</strong></p>
                <p>ุงูุชุงุฌุฑ ููููู ุงุฎุชูุงุฑ ููุท: Attribute</p>
                <p><strong>ุงููุชูุฌุฉ:</strong></p>
                <code>Products.PricingType = Attribute (2)</code>
            </div>

            <h4>Use Case 3 โ ุฅูุบุงุก ุชูุนูู ูุธุงู</h4>
            <div class="scenario-box">
                <p>ุฅุฐุง ูุงู ุงูุชุงุฌุฑ ุจุฅููุงู Quantity:</p>
                <ul>
                    <li>EnabledSystems = [Attribute]</li>
                    <li>Products.PricingType = Attribute (2)</li>
                </ul>
            </div>

            <h3>8.8 API Functionalities โ ูุงุฌูุงุช REST API</h3>

            <h4>8.8.1 ุงูุญุตูู ุนูู ุงูุฃูุธูุฉ ุงููุชุงุญุฉ</h4>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
GET /api/categories/{id}/pricing-info

Response:
{
  "AvailableSystems": ["Fixed", "Attribute", "Quantity"],
  "EnabledSystems": ["Attribute"],
  "Priority": 1,
  "ConfigJson": "{...}"
}
                </pre>
            </div>

            <h4>8.8.2 ุชูุนูู ูุธุงู ุชุณุนูุฑ</h4>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
PUT /api/categories/{id}/pricing/{pricingType}/enable
                </pre>
            </div>

            <h4>8.8.3 ุชุนุทูู ูุธุงู</h4>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
PUT /api/categories/{id}/pricing/{pricingType}/disable
                </pre>
            </div>

            <h4>8.8.4 ุฅุนุฏุงุฏ ุนุฏุฉ ุฃูุธูุฉ</h4>
            <div class="info-box">
                <pre style="text-align: left; direction: ltr; font-family: monospace;">
POST /api/categories/pricing-setup
                </pre>
            </div>

            <h3>8.9 Security Rules โ ููุงุนุฏ ุงูุฃูุงู</h3>
            <table>
                <thead>
                    <tr>
                        <th>ุงููุณุชูู</th>
                        <th>ูุง ูุชู ุงูุชุญูู ููู</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>System Level</td>
                        <td>ูู ุงูุงุดุชุฑุงู ูุณูุญ ุจุงููุธุงูุ</td>
                    </tr>
                    <tr>
                        <td>Category Level</td>
                        <td>ูู ุงููุธุงู ููุนู ุฏุงุฎู ุงูุชุตูููุ</td>
                    </tr>
                    <tr>
                        <td>Product Level</td>
                        <td>ูู ุงูููุชุฌ ูุฑุซ ูุธุงู ุตุงูุญุ</td>
                    </tr>
                </tbody>
            </table>

            <h3>8.10 Summary โ ุงูุฎูุงุตุฉ</h3>
            <div class="info-box">
                <ul>
                    <li>โ ูู Tenant ูุฏูู ุฃูุธูุฉ ุชุณุนูุฑ ุญุณุจ ุงูุงุดุชุฑุงู (System Level)</li>
                    <li>โ ุงูุชุงุฌุฑ ูุฎุชุงุฑ ุงูุฃูุธูุฉ ููู ุชุตููู (Category Level)</li>
                    <li>โ ุงูููุชุฌ ูุฑุซ ููุน ุงูุชุณุนูุฑ ุชููุงุฆููุง (Product Level)</li>
                    <li>โ ูููู ุชูุนูู ุฃูุซุฑ ูู ูุธุงู ูู ููุณ ุงูููุช</li>
                    <li>โ ุนูุฏ ุชูุนูู Attribute + Quantity โ Hybrid Pricing</li>
                    <li>โ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูุงุจูุฉ ููุฅุฏุงุฑุฉ ุนุจุฑ API ู Admin Panel</li>
                    <li>โ ุงููุธุงู ูุถูู ุงูุชุญูู + ุงููุฑููุฉ + ุงูุฃูุงู + ุงููุงุจููุฉ ููุชูุณุน</li>
                </ul>
            </div>
        </div>

        <div class="navigation-footer">
            <a href="page-17.html" class="btn-nav">โฌ๏ธ ุงูุตูุญุฉ ุงูุณุงุจูุฉ</a>
            <a href="page-19.html" class="btn-nav btn-next">ุงูุตูุญุฉ ุงูุชุงููุฉ: ุนุงูู ุงูุนููู โก๏ธ</a>
        </div>
    </div>
</body>
</html>
