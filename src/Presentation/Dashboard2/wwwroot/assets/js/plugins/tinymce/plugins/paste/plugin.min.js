(function(n){"use strict";function ut(n,t){return i.each(t,function(t){n=t.constructor===RegExp?n.replace(t,""):n.replace(t[0],t[1])}),n}function vf(n){function u(n){var i=n.name,r=n;if(i==="br"){t+="\n";return}if(i!=="wbr"){if(e[i]&&(t+=" "),o[i]){t+=" ";return}if(n.type===3&&(t+=n.value),!n.shortEnded&&(n=n.firstChild))do u(n);while(n=n.next);s[i]&&r.next&&(t+="\n",i==="p"&&(t+="\n"))}}var r=ti(),f=it({},r),t="",e=r.getShortEndedElements(),o=i.makeMap("script noscript style textarea video audio iframe object"," "),s=r.getBlockElements();return n=ut(n,[/<!\[[^\]]+\]>/g]),u(f.parse(n)),t}function yf(n){function t(n,t,i){return!t&&!i?" ":v}return ut(n,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function pf(n){var t=0;return function(){return n+t++}}function wf(n){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(n)||/class="OutlineElement/.test(n)||/id="?docs\-internal\-guid\-/.test(n)}function bf(n){var t,r;return r=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],n=n.replace(/^[\u00a0 ]+/,""),i.each(r,function(i){if(i.test(n))return t=!0,!1}),t}function kf(n){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(n)}function df(n){function a(n){var t="";if(n.type===3)return n.value;if(n=n.firstChild)do t+=a(n);while(n=n.next);return t}function f(n,t){if(n.type===3&&t.test(n.value))return n.value=n.value.replace(t,""),!1;if(n=n.firstChild)do if(!f(n,t))return!1;while(n=n.next);return!0}function v(n){if(n._listIgnore){n.remove();return}if(n=n.firstChild)do v(n);while(n=n.next)}function s(n,i,e){var o=n._listLevel||u;o!==u&&(o<u?t&&(t=t.parent.parent):(r=t,t=null));t&&t.name===i?t.append(n):(r=r||t,t=new rt(i,1),e>1&&t.attr("start",""+e),n.wrap(t));n.name="li";o>u&&r&&r.lastChild.append(t);u=o;v(n);f(n,/^\u00a0+/);f(n,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/);f(n,/^\u00a0+/)}for(var t,r,u=1,h=[],i=n.firstChild,e,o,c,l;typeof i!="undefined"&&i!==null;)if(h.push(i),i=i.walk(),i!==null)while(typeof i!="undefined"&&i.parent!==n)i=i.walk();for(e=0;e<h.length;e++)if(n=h[e],n.name==="p"&&n.firstChild){if(o=a(n),kf(o)){s(n,"ul");continue}if(bf(o)){c=/([0-9]+)\./.exec(o);l=1;c&&(l=parseInt(c[1],10));s(n,"ol",l);continue}if(n._listLevel){s(n,"ul",1);continue}t=null}else r=t,t=null}function gf(n,r,u,f){var e={},o,s=n.dom.parseStyle(f);return(i.each(s,function(i,s){switch(s){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(f);o&&(u._listLevel=parseInt(o[1],10));/Ignore/i.test(i)&&u.firstChild&&(u._listIgnore=!0,u.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":i!=="normal"&&(e[s]=i);return;case"mso-element":if(/^(comment|comment-list)$/i.test(i)){u.remove();return}}if(s.indexOf("mso-comment")===0){u.remove();return}s.indexOf("mso-")!==0&&(t.getRetainStyleProps(n)==="all"||r&&r[s])&&(e[s]=i)}),/(bold)/i.test(e["font-weight"])&&(delete e["font-weight"],u.wrap(new rt("b",1))),/(italic)/i.test(e["font-style"])&&(delete e["font-style"],u.wrap(new rt("i",1))),e=n.dom.serializeStyle(e,u.name),e)?e:null}function nr(n,t){n.on("PastePreProcess",function(i){i.content=t(n,i.content,i.internal,i.wordContent)})}function hs(n,t){n.on("PastePostProcess",function(i){t(n,i.node)})}function cs(n,t){var r,f;return ft.isWordContent(t)?(r=[],i.each(n.schema.getBlockElements(),function(n,t){r.push(t)}),f=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+r.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),t=u.filter(t,[[f,"$1"]]),u.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])):t}function ls(n,i,r,u){var o,f,e,s;return u||r?i:(o=t.getWebkitStyles(n),t.shouldRemoveWebKitStyles(n)===!1||o==="all")?i:(o&&(f=o.split(/[, ]/)),f?(e=n.dom,s=n.selection.getNode(),i=i.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(n,t,i,r){var l=e.parseStyle(e.decode(i)),o={},u,h,c;if(f==="none")return t+r;for(u=0;u<f.length;u++)h=l[f[u]],c=e.getStyle(s,f[u],!0),/color/.test(f[u])&&(h=e.toHex(h),c=e.toHex(c)),c!==h&&(o[f[u]]=h);return(o=e.serializeStyle(o,"span"),o)?t+' style="'+o+'"'+r:t+r})):i=i.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3"),i.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(n,t,i,r){return t+' style="'+i+'"'+r}))}function as(n,t){n.$("a",t).find("font,u").each(function(t,i){n.dom.remove(i,!0)})}function bs(){ct.add("paste",function(n){if(rr.hasProPlugin(n)===!1){var r=h(!1),u=h(t.isPasteAsTextEnabled(n)?"text":"html"),i=po(n,u),f=ys.setup(n);return ws.register(n,i),vr.register(n,i),ss.setup(n),is.register(n),es.setup(n,i,r),fr.get(i,f)}})}var h=function(n){var t=n,i=function(){return t},r=function(n){t=n},u=function(){return h(i())};return{get:i,set:r,clone:u}},ct=tinymce.util.Tools.resolve("tinymce.PluginManager"),ir=function(t){return/(^|[ ,])powerpaste([, ]|$)/.test(t.settings.plugins)&&ct.get("powerpaste")?(typeof n.window.console!="undefined"&&n.window.console.log&&n.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},rr={hasProPlugin:ir},ur=function(n,t){return{clipboard:n,quirks:t}},fr={get:ur},er=function(n,t,i,r){return n.fire("PastePreProcess",{content:t,internal:i,wordContent:r})},or=function(n,t,i,r){return n.fire("PastePostProcess",{node:t,internal:i,wordContent:r})},sr=function(n,t){return n.fire("PastePlainTextToggle",{state:t})},hr=function(n,t){return n.fire("paste",{ieFake:t})},c={firePastePreProcess:er,firePastePostProcess:or,firePastePlainTextToggle:sr,firePaste:hr},cr=function(n,t){t.pasteFormat.get()==="text"?(t.pasteFormat.set("html"),c.firePastePlainTextToggle(n,!1)):(t.pasteFormat.set("text"),c.firePastePlainTextToggle(n,!0));n.focus()},lr={togglePlainTextPaste:cr},ar=function(n,t){n.addCommand("mceTogglePlainTextPaste",function(){lr.togglePlainTextPaste(n,t)});n.addCommand("mceInsertClipboardContent",function(n,i){i.content&&t.pasteHtml(i.content,i.internal);i.text&&t.pasteText(i.text)})},vr={register:ar},yr=function(){},o=function(n){return function(){return n}},l=o(!1),k=o(!0),y=function(){return d},d=function(){var n=function(n){return n.isNone()},t=function(n){return n()},i=function(n){return n},r={fold:function(n){return n()},is:l,isSome:l,isNone:k,getOr:i,getOrThunk:t,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.");},getOrNull:o(null),getOrUndefined:o(undefined),or:i,orThunk:t,map:y,each:yr,bind:y,exists:l,forall:k,filter:y,equals:n,equals_:n,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(r),r}(),g=function(n){var t=o(n),u=function(){return r},i=function(t){return t(n)},r={fold:function(t,i){return i(n)},is:function(t){return n===t},isSome:k,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:u,orThunk:u,map:function(t){return g(t(n))},each:function(t){t(n)},bind:i,exists:i,forall:i,filter:function(t){return t(n)?r:d},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(t){return t.is(n)},equals_:function(t,i){return t.fold(l,function(t){return i(n,t)})}};return r},pr=function(n){return n===null||n===undefined?d:g(n)},a={some:g,none:y,from:pr},wr=function(n){if(n===null)return"null";var t=typeof n;return t==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":t},br=function(n){return function(t){return wr(t)===n}},kr=br("function"),dr=Array.prototype.slice,lt=function(n,t){for(var f,r=n.length,u=new Array(r),i=0;i<r;i++)f=n[i],u[i]=t(f,i);return u},p=function(n,t){for(var u,i=0,r=n.length;i<r;i++)u=n[i],t(u,i)},gr=function(n,t){for(var r,u=[],i=0,f=n.length;i<f;i++)r=n[i],t(r,i)&&u.push(r);return u},nu=function(n,t,i){return p(n,function(n){i=t(i,n)}),i},at=kr(Array.from)?Array.from:function(n){return dr.call(n)},vt={},yt={exports:vt},ii,u;(function(n,t,i,r){(function(r){if(typeof t=="object"&&typeof i!="undefined")i.exports=r();else if(typeof n=="function"&&n.amd)n([],r);else{var u;u=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;u.EphoxContactWrapper=r()}})(function(){return function(){function n(t,i,u){function f(e,s){var c,l,h;if(!i[e]){if(!t[e]){if(c="function"==typeof r&&r,!s&&c)return c(e,!0);if(o)return o(e,!0);l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l;}h=i[e]={exports:{}};t[e][0].call(h.exports,function(n){var i=t[e][1][n];return f(i||n)},h,h.exports,n,t,i,u)}return i[e].exports}for(var o="function"==typeof r&&r,e=0;e<u.length;e++)f(u[e]);return f}return n}()({1:[function(n,t){function c(){throw new Error("setTimeout has not been defined");}function l(){throw new Error("clearTimeout has not been defined");}function a(n){if(r===setTimeout)return setTimeout(n,0);if((r===c||!r)&&setTimeout)return r=setTimeout,setTimeout(n,0);try{return r(n,0)}catch(t){try{return r.call(null,n,0)}catch(t){return r.call(this,n,0)}}}function p(n){if(u===clearTimeout)return clearTimeout(n);if((u===l||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(n);try{return u(n)}catch(t){try{return u.call(null,n)}catch(t){return u.call(this,n)}}}function w(){s&&o&&(s=!1,o.length?f=o.concat(f):h=-1,f.length&&v())}function v(){var t,n;if(!s){for(t=a(w),s=!0,n=f.length;n;){for(o=f,f=[];++h<n;)o&&o[h].run();h=-1;n=f.length}o=null;s=!1;p(t)}}function y(n,t){this.fun=n;this.array=t}function e(){}var i=t.exports={},r,u;(function(){try{r=typeof setTimeout=="function"?setTimeout:c}catch(n){r=c}try{u=typeof clearTimeout=="function"?clearTimeout:l}catch(n){u=l}})();var f=[],s=!1,o,h=-1;i.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];f.push(new y(n,i));f.length!==1||s||a(v)};y.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=!0;i.env={};i.argv=[];i.version="";i.versions={};i.on=e;i.addListener=e;i.once=e;i.off=e;i.removeListener=e;i.removeAllListeners=e;i.emit=e;i.prependListener=e;i.prependOnceListener=e;i.listeners=function(){return[]};i.binding=function(){throw new Error("process.binding is not supported");};i.cwd=function(){return"/"};i.chdir=function(){throw new Error("process.chdir is not supported");};i.umask=function(){return 0}},{}],2:[function(n,t){(function(n){(function(i){function c(){}function l(n,t){return function(){n.apply(t,arguments)}}function r(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=undefined;this._deferreds=[];s(n,this)}function o(n,t){while(n._state===3)n=n._value;if(n._state===0){n._deferreds.push(t);return}n._handled=!0;r._immediateFn(function(){var i=n._state===1?t.onFulfilled:t.onRejected,r;if(i===null){(n._state===1?f:u)(t.promise,n._value);return}try{r=i(n._value)}catch(e){u(t.promise,e);return}f(t.promise,r)})}function f(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var i=t.then;if(t instanceof r){n._state=3;n._value=t;e(n);return}if(typeof i=="function"){s(l(i,t),n);return}}n._state=1;n._value=t;e(n)}catch(f){u(n,f)}}function u(n,t){n._state=2;n._value=t;e(n)}function e(n){n._state===2&&n._deferreds.length===0&&r._immediateFn(function(){n._handled||r._unhandledRejectionFn(n._value)});for(var t=0,i=n._deferreds.length;t<i;t++)o(n,n._deferreds[t]);n._deferreds=null}function a(n,t,i){this.onFulfilled=typeof n=="function"?n:null;this.onRejected=typeof t=="function"?t:null;this.promise=i}function s(n,t){var i=!1;try{n(function(n){i||(i=!0,f(t,n))},function(n){i||(i=!0,u(t,n))})}catch(r){if(i)return;i=!0;u(t,r)}}var h=setTimeout;r.prototype["catch"]=function(n){return this.then(null,n)};r.prototype.then=function(n,t){var i=new this.constructor(c);return o(this,new a(n,t,i)),i};r.all=function(n){var t=Array.prototype.slice.call(n);return new r(function(n,i){function f(r,e){try{if(e&&(typeof e=="object"||typeof e=="function")){var o=e.then;if(typeof o=="function"){o.call(e,function(n){f(r,n)},i);return}}t[r]=e;--u==0&&n(t)}catch(s){i(s)}}var u,r;if(t.length===0)return n([]);for(u=t.length,r=0;r<t.length;r++)f(r,t[r])})};r.resolve=function(n){return n&&typeof n=="object"&&n.constructor===r?n:new r(function(t){t(n)})};r.reject=function(n){return new r(function(t,i){i(n)})};r.race=function(n){return new r(function(t,i){for(var r=0,u=n.length;r<u;r++)n[r].then(t,i)})};r._immediateFn=typeof n=="function"?function(t){n(t)}:function(n){h(n,0)};r._unhandledRejectionFn=function(n){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};r._setImmediateFn=function(n){r._immediateFn=n};r._setUnhandledRejectionFn=function(n){r._unhandledRejectionFn=n};typeof t!="undefined"&&t.exports?t.exports=r:i.Promise||(i.Promise=r)})(this)}).call(this,n("timers").setImmediate)},{timers:3}],3:[function(n,t,i){(function(t,r){function u(n,t){this._id=n;this._clearFn=t}var o=n("process/browser.js").nextTick,e=Function.prototype.apply,s=Array.prototype.slice,f={},h=0;i.setTimeout=function(){return new u(e.call(setTimeout,window,arguments),clearTimeout)};i.setInterval=function(){return new u(e.call(setInterval,window,arguments),clearInterval)};i.clearTimeout=i.clearInterval=function(n){n.close()};u.prototype.unref=u.prototype.ref=function(){};u.prototype.close=function(){this._clearFn.call(window,this._id)};i.enroll=function(n,t){clearTimeout(n._idleTimeoutId);n._idleTimeout=t};i.unenroll=function(n){clearTimeout(n._idleTimeoutId);n._idleTimeout=-1};i._unrefActive=i.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))};i.setImmediate=typeof t=="function"?t:function(n){var t=h++,r=arguments.length<2?!1:s.call(arguments,1);return f[t]=!0,o(function(){f[t]&&(r?n.apply(null,r):n.call(null),i.clearImmediate(t))}),t};i.clearImmediate=typeof r=="function"?r:function(n){delete f[n]}}).call(this,n("timers").setImmediate,n("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(n,t){var i=n("promise-polyfill"),r=function(){return typeof window!="undefined"?window:Function("return this;")()}();t.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)})})(undefined,vt,yt,undefined);var pt=yt.exports.boltExport,nt=function(t){var i=a.none(),r=[],o=function(n){return nt(function(t){u(function(i){t(n(i))})})},u=function(n){f()?e(n):r.push(n)},s=function(n){i=a.some(n);h(r);r=[]},f=function(){return i.isSome()},h=function(n){p(n,e)},e=function(t){i.each(function(i){n.setTimeout(function(){t(i)},0)})};return t(s),{get:u,map:o,isReady:f}},tu=function(n){return nt(function(t){t(n)})},iu={nu:nt,pure:tu},ru=function(t){n.setTimeout(function(){throw t;},0)},s=function(n){var t=function(t){n().then(t,ru)},i=function(t){return s(function(){return n().then(t)})},r=function(t){return s(function(){return n().then(function(n){return t(n).toPromise()})})},u=function(t){return s(function(){return n().then(function(){return t.toPromise()})})},f=function(){return iu.nu(t)},e=function(){var t=null;return s(function(){return t===null&&(t=n()),t})},o=n;return{map:i,bind:r,anonBind:u,toLazy:f,toCached:e,toPromise:o,get:t}},uu=function(n){return s(function(){return new pt(n)})},fu=function(n){return s(function(){return pt.resolve(n)})},wt={nu:uu,pure:fu},eu=function(n,t){return t(function(t){var i=[],r=0,u=function(u){return function(f){i[u]=f;r++;r>=n.length&&t(i)}};n.length===0?t([]):p(n,function(n,t){n.get(u(t))})})},ou=function(n){return eu(n,wt.nu)},su=function(n,t){return ou(lt(n,t))},hu=function(){var n=h(a.none()),t=function(){n.set(a.none())},i=function(t){n.set(a.some(t))},r=function(t){n.get().each(t)},u=function(){return n.get().isSome()};return{clear:t,set:i,isSet:u,on:r}},r=tinymce.util.Tools.resolve("tinymce.Env"),w=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),cu=tinymce.util.Tools.resolve("tinymce.util.VK"),bt="x-tinymce/html",tt="<!-- "+bt+" -->",lu=function(n){return tt+n},au=function(n){return n.replace(tt,"")},vu=function(n){return n.indexOf(tt)!==-1},f={mark:lu,unmark:au,isMarked:vu,internalHtmlMime:function(){return bt}},yu=tinymce.util.Tools.resolve("tinymce.html.Entities"),pu=function(n){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(n)},kt=function(n){return n.replace(/\r?\n/g,"<br>")},wu=function(n,t){var i,r=[],u="<"+n;if(typeof t=="object"){for(i in t)t.hasOwnProperty(i)&&r.push(i+'="'+yu.encodeAllRaw(t[i])+'"');r.length&&(u+=" "+r.join(" "))}return u+">"},dt=function(n,t,r){var f=n.split(/\n\n/),e=wu(t,r),o="<\/"+t+">",u=i.map(f,function(n){return n.split(/\n/).join("<br />")}),s=function(n){return e+n+o};return u.length===1?u[0]:i.map(u,s).join("")},bu=function(n,t,i){return t?dt(n,t===!0?"p":t,i):kt(n)},gt={isPlainText:pu,convert:bu,toBRs:kt,toBlockElements:dt},it=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ni=tinymce.util.Tools.resolve("tinymce.html.Serializer"),rt=tinymce.util.Tools.resolve("tinymce.html.Node"),ti=tinymce.util.Tools.resolve("tinymce.html.Schema"),ku=function(n){return n.getParam("paste_block_drop",!1)},du=function(n){return n.getParam("paste_data_images",!1)},gu=function(n){return n.getParam("paste_filter_drop",!0)},nf=function(n){return n.getParam("paste_preprocess")},tf=function(n){return n.getParam("paste_postprocess")},rf=function(n){return n.getParam("paste_webkit_styles")},uf=function(n){return n.getParam("paste_remove_styles_if_webkit",!0)},ff=function(n){return n.getParam("paste_merge_formats",!0)},ef=function(n){return n.getParam("smart_paste",!0)},sf=function(n){return n.getParam("paste_as_text",!1)},hf=function(n){return n.getParam("paste_retain_style_properties")},cf=function(n){return n.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},lf=function(n){return n.getParam("paste_convert_word_fake_lists",!0)},af=function(n){return n.getParam("paste_enable_default_filters",!0)},t={shouldBlockDrop:ku,shouldPasteDataImages:du,shouldFilterDrop:gu,getPreProcess:nf,getPostProcess:tf,getWebkitStyles:rf,shouldRemoveWebKitStyles:uf,shouldMergeFormats:ff,isSmartPasteEnabled:ef,isPasteAsTextEnabled:sf,getRetainStyleProps:hf,getWordValidElements:cf,shouldConvertWordFakeLists:lf,shouldUseDefaultFilters:af},v="Â ";ii=function(){return n.navigator.userAgent.indexOf(" Edge/")!==-1};u={filter:ut,innerText:vf,trimHtml:yf,createIdGenerator:pf,isMsEdge:ii};var ne=function(n,r){var o,h,c,e,f,s;return o=t.getRetainStyleProps(n),o&&(h=i.makeMap(o.split(/[, ]/))),r=u.filter(r,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,v],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(n,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(v):""}]]),c=t.getWordValidElements(n),e=ti({valid_elements:c,valid_children:"-li[p]"}),i.each(e.elements,function(n){n.attributes.class||(n.attributes.class={},n.attributesOrder.push("class"));n.attributes.style||(n.attributes.style={},n.attributesOrder.push("style"))}),f=it({},e),f.addAttributeFilter("style",function(t){for(var r=t.length,i;r--;)i=t[r],i.attr("style",gf(n,h,i,i.attr("style"))),i.name==="span"&&i.parent&&!i.attributes.length&&i.unwrap()}),f.addAttributeFilter("class",function(n){for(var i=n.length,t,r;i--;)t=n[i],r=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(r)&&t.remove(),t.attr("class",null)}),f.addNodeFilter("del",function(n){for(var t=n.length;t--;)n[t].remove()}),f.addNodeFilter("a",function(n){for(var u=n.length,i,t,r;u--;){if(i=n[u],t=i.attr("href"),r=i.attr("name"),t&&t.indexOf("#_msocom_")!==-1){i.remove();continue}if(t&&t.indexOf("file://")===0&&(t=t.split("#")[1],t&&(t="#"+t)),t||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){i.unwrap();continue}i.attr({href:t,name:r})}else i.unwrap()}}),s=f.parse(r),t.shouldConvertWordFakeLists(n)&&df(s),ni({validate:n.settings.validate},e).serialize(s)},te=function(n,i){return t.shouldUseDefaultFilters(n)?ne(n,i):i},ft={preProcess:te,isWordContent:wf},ie=function(n,t){var r=it({},n.schema),u;return r.addNodeFilter("meta",function(n){i.each(n,function(n){return n.remove()})}),u=r.parse(t,{forced_root_block:!1,isRootContent:!0}),ni({validate:n.settings.validate},n.schema).serialize(u)},ri=function(n,t){return{content:n,cancelled:t}},re=function(n,t,i,r){var f=n.dom.create("div",{style:"display:none"},t),u=c.firePastePostProcess(n,f,i,r);return ri(u.node.innerHTML,u.isDefaultPrevented())},ue=function(n,t,i,r){var u=c.firePastePreProcess(n,t,i,r),f=ie(n,u.content);return n.hasEventListeners("PastePostProcess")&&!u.isDefaultPrevented()?re(n,f,i,r):ri(f,u.isDefaultPrevented())},fe=function(n,t,i){var r=ft.isWordContent(t),u=r?ft.preProcess(n,t):t;return ue(n,u,i,r)},ee={process:fe},et=function(n,i){return n.insertContent(i,{merge:t.shouldMergeFormats(n),paste:!0}),!0},ot=function(n){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(n)},ui=function(n){return ot(n)&&/.(gif|jpe?g|png)$/.test(n)},oe=function(n,t,i){return n.undoManager.extra(function(){i(n,t)},function(){n.insertContent('<img src="'+t+'">')}),!0},se=function(n,t,i){return n.undoManager.extra(function(){i(n,t)},function(){n.execCommand("mceInsertLink",!1,t)}),!0},he=function(n,t,i){return n.selection.isCollapsed()===!1&&ot(t)?se(n,t,i):!1},ce=function(n,t,i){return ui(t)?oe(n,t,i):!1},le=function(n,t){i.each([he,ce,et],function(i){return i(n,t,et)!==!0})},ae=function(n,i,r){r||t.isSmartPasteEnabled(n)===!1?et(n,i):le(n,i)},fi={isImageUrl:ui,isAbsoluteUrl:ot,insertContent:ae},ve=function(n){return" \f\t\x0b".indexOf(n)!==-1},ei=function(n){return n==="\n"||n==="\r"},ye=function(n,t){return t<n.length&&t>=0?ei(n[t]):!1},pe=function(n){var t=nu(n,function(t,i){return ve(i)||i===v?t.pcIsSpace||t.str===""||t.str.length===n.length-1||ye(n,t.str.length+1)?{pcIsSpace:!1,str:t.str+v}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:ei(i),str:t.str+i}},{pcIsSpace:!1,str:""});return t.str},oi=function(n,t,i,r){var u=ee.process(n,t,i);u.cancelled===!1&&fi.insertContent(n,u.content,r)},b=function(n,t,i){var r=i?i:f.isMarked(t);oi(n,f.unmark(t),r,!1)},si=function(n,t){var i=n.dom.encode(t).replace(/\r\n/g,"\n"),r=pe(i),u=gt.convert(r,n.settings.forced_root_block,n.settings.forced_root_block_attrs);oi(n,u,!1,!0)},hi=function(n){var i={},t,r,u;if(n&&(n.getData&&(t=n.getData("Text"),t&&t.length>0&&t.indexOf("data:text/mce-internal,")===-1&&(i["text/plain"]=t)),n.types))for(r=0;r<n.types.length;r++){u=n.types[r];try{i[u]=n.getData(u)}catch(f){i[u]=""}}return i},we=function(n,t){var r=hi(t.clipboardData||n.getDoc().dataTransfer);return u.isMsEdge()?i.extend(r,{"text/html":""}):r},e=function(n,t){return t in n&&n[t].length>0},ci=function(n){return e(n,"text/html")||e(n,"text/plain")},be=function(n){var t;return(t=n.indexOf(","),t!==-1)?n.substr(t+1):null},ke=function(n,t){return n.images_dataimg_filter?n.images_dataimg_filter(t):!0},de=function(n,t){var i=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return i?n.dom.encode(i[1]):null},ge=u.createIdGenerator("mceclip"),no=function(t,i){var e=be(i.uri),o=ge(),h=t.settings.images_reuse_filename&&i.blob.name?de(t,i.blob.name):o,s=new n.Image;if(s.src=i.uri,ke(t.settings,s)){var u=t.editorUpload.blobCache,r=void 0,f=void 0;f=u.findFirst(function(n){return n.base64()===e});f?r=f:(r=u.create(o,i.blob,e,h),u.add(r));b(t,'<img src="'+r.blobUri()+'">',!1)}else b(t,'<img src="'+i.uri+'">',!1)},to=function(n){return n.type==="paste"},io=function(n){return su(n,function(n){return wt.nu(function(t){var r=n.getAsFile?n.getAsFile():n,i=new window.FileReader;i.onload=function(){t({blob:r,uri:i.result})};i.readAsDataURL(r)})})},ro=function(n){var t=n.items?lt(at(n.items),function(n){return n.getAsFile()}):[],i=n.files?at(n.files):[];return gr(t.length>0?t:i,function(n){return/^image\/(jpeg|png|gif|bmp)$/.test(n.type)})},li=function(n,t,i){var u=to(t)?t.clipboardData:t.dataTransfer,r;return n.settings.paste_data_images&&u&&(r=ro(u),r.length>0)?(t.preventDefault(),io(r).get(function(t){i&&n.selection.setRng(i);p(t,function(t){no(n,t)})}),!0):!1},uo=function(t){var i=t.clipboardData;return n.navigator.userAgent.indexOf("Android")!==-1&&i&&i.items&&i.items.length===0},ai=function(n){return cu.metaKeyPressed(n)&&n.keyCode===86||n.shiftKey&&n.keyCode===45},fo=function(t,i,o){function l(n,r,o,s){var h,c,l;if(e(n,"text/html")?h=n["text/html"]:(h=i.getHtml(),s=s?s:f.isMarked(h),i.isDefaultContent(h)&&(o=!0)),h=u.trimHtml(h),i.remove(),c=s===!1&&gt.isPlainText(h),l=fi.isImageUrl(h),h.length&&(!c||l)||(o=!0),(o||l)&&(h=e(n,"text/plain")&&c?n["text/plain"]:u.innerText(h)),i.isDefaultContent(h)){r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}o?si(t,h):b(t,h,s)}var h=hu(),s,a;t.on("keydown",function(u){function f(n){ai(n)&&!n.isDefaultPrevented()&&i.remove()}if(ai(u)&&!u.isDefaultPrevented()){if(s=u.shiftKey&&u.keyCode===86,s&&r.webkit&&n.navigator.userAgent.indexOf("Version/")!==-1)return;if(u.stopImmediatePropagation(),h.set(u),window.setTimeout(function(){h.clear()},100),r.ie&&s){u.preventDefault();c.firePaste(t,!0);return}i.remove();i.create();t.once("keyup",f);t.once("paste",function(){t.off("keyup",f)})}});a=function(){return i.getLastRng()||t.selection.getRng()};t.on("paste",function(n){var c=h.isSet(),u=we(t,n),y=o.get()==="text"||s,v=e(u,f.internalHtmlMime());if(s=!1,n.isDefaultPrevented()||uo(n)){i.remove();return}if(!ci(u)&&li(t,n,a())){i.remove();return}c||n.preventDefault();r.ie&&(!c||n.ieFake)&&!e(u,"text/html")&&(i.create(),t.dom.bind(i.getEl(),"paste",function(n){n.stopPropagation()}),t.getDoc().execCommand("Paste",!1,null),u["text/html"]=i.getHtml());e(u,"text/html")?(n.preventDefault(),v||(v=f.isMarked(u["text/html"])),l(u,c,y,v)):w.setEditorTimeout(t,function(){l(u,c,y,v)},0)})},eo=function(n,t,i){fo(n,t,i);var u;n.parser.addNodeFilter("img",function(t,i,f){var s=function(n){return n.data&&n.data.paste===!0},o=function(n){n.attr("data-mce-object")||u===r.transparentSrc||n.remove()},h=function(n){return n.indexOf("webkit-fake-url")===0},c=function(n){return n.indexOf("data:")===0},e;if(!n.settings.paste_data_images&&s(f))for(e=t.length;e--;)(u=t[e].attr("src"),u)&&(h(u)?o(t[e]):!n.settings.allow_html_data_urls&&c(u)&&o(t[e]))})},st=function(t){return r.ie&&t.inline?n.document.body:t.getBody()},oo=function(n){return st(n)!==n.getBody()},so=function(n,t,i){oo(n)&&n.dom.bind(t,"paste keyup",function(){yi(n,i)||n.fire("paste")})},ho=function(n,t,i){var f=n.dom,e=n.getBody(),u;t.set(n.selection.getRng());u=n.dom.add(st(n),"div",{id:"mcepastebin","class":"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},i);(r.ie||r.gecko)&&f.setStyle(u,"left",f.getStyle(e,"direction",!0)==="rtl"?65535:-65535);f.bind(u,"beforedeactivate focusin focusout",function(n){n.stopPropagation()});so(n,u,i);u.focus();n.selection.select(u,!0)},co=function(n,t){if(ht(n)){for(var i=void 0,r=t.get();i=n.dom.get("mcepastebin");)n.dom.remove(i),n.dom.unbind(i);r&&n.selection.setRng(r)}t.set(null)},ht=function(n){return n.dom.get("mcepastebin")},lo=function(n){var t,f,r,u,e,o=function(t,i){t.appendChild(i);n.dom.remove(i,!0)};for(f=i.grep(st(n).childNodes,function(n){return n.id==="mcepastebin"}),t=f.shift(),i.each(f,function(n){o(t,n)}),u=n.dom.select("div[id=mcepastebin]",t),r=u.length-1;r>=0;r--)e=n.dom.create("div"),t.insertBefore(e,u[r]),o(e,u[r]);return t?t.innerHTML:""},ao=function(n){return n.get()},vi=function(n,t){return t===n},vo=function(n){return n&&n.id==="mcepastebin"},yi=function(n,t){var i=ht(n);return vo(i)&&vi(t,i.innerHTML)},yo=function(n){var t=h(null),i="%MCEPASTEBIN%";return{create:function(){return ho(n,t,i)},remove:function(){return co(n,t)},getEl:function(){return ht(n)},getHtml:function(){return lo(n)},getLastRng:function(){return ao(t)},isDefault:function(){return yi(n,i)},isDefaultContent:function(n){return vi(i,n)}}},po=function(n,t){var i=yo(n);n.on("PreInit",function(){return eo(n,i,t)});return{pasteFormat:t,pasteHtml:function(t,i){return b(n,t,i)},pasteText:function(t){return si(n,t)},pasteImageData:function(t,i){return li(n,t,i)},getDataTransferItems:hi,hasHtmlOrText:ci,hasContentType:e}},wo=function(n){return r.iOS===!1&&n!==undefined&&typeof n.setData=="function"&&u.isMsEdge()!==!0},bo=function(n,t,i){if(wo(n))try{return n.clearData(),n.setData("text/html",t),n.setData("text/plain",i),n.setData(f.internalHtmlMime(),t),!0}catch(r){return!1}else return!1},pi=function(n,t,i,r){bo(n.clipboardData,t.html,t.text)?(n.preventDefault(),r()):i(t.html,r)},wi=function(n){return function(t,i){var s=f.mark(t),r=n.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=n.dom.create("div",{contenteditable:"true"},s),o,e;n.dom.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"});r.appendChild(u);n.dom.add(n.getBody(),r);o=n.selection.getRng();u.focus();e=n.dom.createRng();e.selectNodeContents(u);n.selection.setRng(e);w.setTimeout(function(){n.selection.setRng(o);r.parentNode.removeChild(r);i()},0)}},bi=function(n){return{html:n.selection.getContent({contextual:!0}),text:n.selection.getContent({format:"text"})}},ko=function(n){return!!n.dom.getParent(n.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",n.getBody())},ki=function(n){return!n.selection.isCollapsed()||ko(n)},go=function(n){return function(t){ki(n)&&pi(t,bi(n),wi(n),function(){if(r.browser.isChrome()){var t=n.selection.getRng();w.setEditorTimeout(n,function(){n.selection.setRng(t);n.execCommand("Delete")},0)}else n.execCommand("Delete")})}},ns=function(n){return function(t){ki(n)&&pi(t,bi(n),wi(n),function(){})}},ts=function(n){n.on("cut",go(n));n.on("copy",ns(n))},is={register:ts},rs=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),di=function(n,t){return rs.getCaretRangeFromPoint(t.clientX,t.clientY,n.getDoc())},us=function(n){var t=n["text/plain"];return t?t.indexOf("file://")===0:!1},gi=function(n,t){n.focus();n.selection.setRng(t)},fs=function(n,i,r){if(t.shouldBlockDrop(n))n.on("dragend dragover draggesture dragdrop drop drag",function(n){n.preventDefault();n.stopPropagation()});if(!t.shouldPasteDataImages(n))n.on("drop",function(n){var t=n.dataTransfer;t&&t.files&&t.files.length>0&&n.preventDefault()});n.on("drop",function(e){var o,h,c,s;(h=di(n,e),e.isDefaultPrevented()||r.get())||(o=i.getDataTransferItems(e.dataTransfer),c=i.hasContentType(o,f.internalHtmlMime()),(!i.hasHtmlOrText(o)||us(o))&&i.pasteImageData(e,h))||h&&t.shouldFilterDrop(n)&&(s=o["mce-internal"]||o["text/html"]||o["text/plain"],s&&(e.preventDefault(),w.setEditorTimeout(n,function(){n.undoManager.transact(function(){o["mce-internal"]&&n.execCommand("Delete");gi(n,h);s=u.trimHtml(s);o["text/html"]?i.pasteHtml(s,c):i.pasteText(s)})})))});n.on("dragstart",function(){r.set(!0)});n.on("dragover dragend",function(i){t.shouldPasteDataImages(n)&&r.get()===!1&&(i.preventDefault(),gi(n,di(n,i)));i.type==="dragend"&&r.set(!1)})},es={setup:fs},os=function(n){var i=n.plugins.paste,u=t.getPreProcess(n),r;if(u)n.on("PastePreProcess",function(n){u.call(i,i,n)});if(r=t.getPostProcess(n),r)n.on("PastePostProcess",function(n){r.call(i,i,n)})},ss={setup:os};var vs=function(n){r.webkit&&nr(n,ls);r.ie&&(nr(n,cs),hs(n,as))},ys={setup:vs},tr=function(n,t){return function(i){i.setActive(t.pasteFormat.get()==="text");var r=function(n){return i.setActive(n.state)};n.on("PastePlainTextToggle",r);return function(){return n.off("PastePlainTextToggle",r)}}},ps=function(n,t){n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return n.execCommand("mceTogglePlainTextPaste")},onSetup:tr(n,t)});n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",onAction:function(){return n.execCommand("mceTogglePlainTextPaste")},onSetup:tr(n,t)})},ws={register:ps};bs()})(window);