(function(){"use strict";function ct(){a.add("advlist",function(n){var t=function(n,t){var i=n.settings.plugins?n.settings.plugins:"";return r.inArray(i.split(/[ ,]/),t)!==-1};t(n,"lists")&&(ht.register(n),p.register(n))})}var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(n,t,i){var r=t==="UL"?"InsertUnorderedList":"InsertOrderedList";n.execCommand(r,!1,i===!1?null:{"list-style-type":i})},u={applyListFormat:v},y=function(n){n.addCommand("ApplyUnorderedListStyle",function(t,i){u.applyListFormat(n,"UL",i["list-style-type"])});n.addCommand("ApplyOrderedListStyle",function(t,i){u.applyListFormat(n,"OL",i["list-style-type"])})},p={register:y},w=function(n){var t=n.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},b=function(n){var t=n.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]},h={getNumberStyles:w,getBulletStyles:b},k=function(){},n=function(n){return function(){return n}},t=n(!1),f=n(!0),i=function(){return e},e=function(){var r=function(n){return n.isNone()},u=function(n){return n()},e=function(n){return n},o={fold:function(n){return n()},is:t,isSome:t,isNone:f,getOr:e,getOrThunk:u,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.");},getOrNull:n(null),getOrUndefined:n(undefined),or:e,orThunk:u,map:i,each:k,bind:i,exists:t,forall:f,filter:i,equals:r,equals_:r,toArray:function(){return[]},toString:n("none()")};return Object.freeze&&Object.freeze(o),o}(),o=function(i){var r=n(i),h=function(){return s},u=function(n){return n(i)},s={fold:function(n,t){return t(i)},is:function(n){return i===n},isSome:f,isNone:t,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:h,orThunk:h,map:function(n){return o(n(i))},each:function(n){n(i)},bind:u,exists:u,forall:u,filter:function(n){return n(i)?s:e},toArray:function(){return[i]},toString:function(){return"some("+i+")"},equals:function(n){return n.is(i)},equals_:function(n,r){return n.fold(t,function(n){return r(i,n)})}};return s},d=function(n){return n===null||n===undefined?e:o(n)},g={some:o,none:i,from:d},nt=function(n,t){return n.$.contains(n.getBody(),t)},tt=function(n){return n&&/^(TH|TD)$/.test(n.nodeName)},it=function(n){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&nt(n,t)}},rt=function(n){var t=n.dom.getParent(n.selection.getNode(),"ol,ul"),i=n.dom.getStyle(t,"listStyleType");return g.from(i)},s={isTableCellNode:tt,isListNode:it,getSelectedStyleType:rt},ut=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i],t(r))return i;return-1},ft=function(n){return n.replace(/\-/g," ").replace(/\b\w/g,function(n){return n.toUpperCase()})},c=function(n,t,i){var u=ut(t.parents,s.isTableCellNode),e=u!==-1?t.parents.slice(0,u):t.parents,f=r.grep(e,s.isListNode(n));return f.length>0&&f[0].nodeName===i},et=function(n,t,i,f,e,o){n.ui.registry.addSplitButton(t,{tooltip:i,icon:e==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(n){var t=r.map(o,function(n){var t=e==="OL"?"num":"bull",i=n==="disc"||n==="decimal"?"default":n,r=n==="default"?"":n,u=ft(n);return{type:"choiceitem",value:r,icon:"list-"+t+"-"+i,text:u}});n(t)},onAction:function(){return n.execCommand(f)},onItemAction:function(t,i){u.applyListFormat(n,e,i)},select:function(t){var i=s.getSelectedStyleType(n);return i.map(function(n){return t===n}).getOr(!1)},onSetup:function(t){var i=function(i){t.setActive(c(n,i,e))};n.on("NodeChange",i);return function(){return n.off("NodeChange",i)}}})},ot=function(n,t,i,r,u){n.ui.registry.addToggleButton(t,{active:!1,tooltip:i,icon:u==="OL"?"ordered-list":"unordered-list",onSetup:function(t){var i=function(i){t.setActive(c(n,i,u))};n.on("NodeChange",i);return function(){return n.off("NodeChange",i)}},onAction:function(){return n.execCommand(r)}})},l=function(n,t,i,r,u,f){f.length>0?et(n,t,i,r,u,f):ot(n,t,i,r,u)},st=function(n){l(n,"numlist","Numbered list","InsertOrderedList","OL",h.getNumberStyles(n));l(n,"bullist","Bullet list","InsertUnorderedList","UL",h.getBulletStyles(n))},ht={register:st};ct()})();