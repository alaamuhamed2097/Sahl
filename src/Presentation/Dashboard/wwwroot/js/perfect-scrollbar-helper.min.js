function debounce(n,t){let i;return function(...r){const u=()=>{clearTimeout(i),n(...r)};clearTimeout(i);i=setTimeout(u,t)}}window.initializePerfectScrollbar=n=>{const t=document.getElementById(n);t?(t.perfectScrollbarInstance&&t.perfectScrollbarInstance.destroy(),t.perfectScrollbarInstance=new PerfectScrollbar(t,{wheelSpeed:.5,wheelPropagation:!1,minScrollbarLength:20,suppressScrollX:!0}),console.log("Perfect Scrollbar initialized for:",n)):console.warn("Element not found:",n)};window.updatePerfectScrollbar=n=>{const t=document.getElementById(n);t&&t.perfectScrollbarInstance&&(t.perfectScrollbarInstance.update(),console.log("Perfect Scrollbar updated for:",n))};window.destroyPerfectScrollbar=n=>{const t=document.getElementById(n);t&&t.perfectScrollbarInstance&&(t.perfectScrollbarInstance.destroy(),delete t.perfectScrollbarInstance,console.log("Perfect Scrollbar destroyed for:",n))};window.scrollListeners=window.scrollListeners||{};window.initializeScrollListener=(n,t)=>{const i=document.getElementById(n);if(!i){console.error(`Container with ID ${n} not found`);return}window.scrollListeners[n]&&i.removeEventListener("scroll",window.scrollListeners[n]);const r=debounce(async()=>{const n=i.scrollTop,r=i.scrollHeight,u=i.clientHeight,f=n+u>=r-100;if(f)try{await t.invokeMethodAsync("OnScrollNearEnd")}catch(e){console.error("Error invoking OnScrollNearEnd:",e)}},200);window.scrollListeners[n]=r;i.addEventListener("scroll",r,{passive:!0});console.log(`Scroll listener initialized for ${n}`)};window.removeScrollListener=n=>{const t=document.getElementById(n);t&&window.scrollListeners[n]&&(t.removeEventListener("scroll",window.scrollListeners[n]),delete window.scrollListeners[n],console.log(`Scroll listener removed for ${n}`))};window.addEventListener("beforeunload",()=>{Object.keys(window.scrollListeners).forEach(n=>{window.removeScrollListener(n)})});