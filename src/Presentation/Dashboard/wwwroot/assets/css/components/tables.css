/* ===================================
   TABLE COMPONENTS
   Modern table system with variants and responsive features
   =================================== */

/* ===================================
   BASE TABLE STYLES
   =================================== */

.table {
  --table-bg: transparent;
  --table-accent-bg: transparent;
  --table-striped-color: var(--neutral-dark);
  --table-striped-bg: rgba(0, 0, 0, 0.05);
  --table-active-color: var(--neutral-dark);
  --table-active-bg: rgba(0, 0, 0, 0.1);
  --table-hover-color: var(--neutral-dark);
  --table-hover-bg: rgba(0, 0, 0, 0.075);
  
  width: 100%;
  margin-bottom: var(--space-4);
  color: var(--neutral-dark);
  vertical-align: top;
  border-color: var(--neutral-light);
  background: var(--table-bg);
}

.table > :not(caption) > * > * {
  padding: var(--table-cell-padding-y) var(--table-cell-padding-x);
  background: var(--table-bg);
  border-bottom-width: 1px;
  box-shadow: inset 0 0 0 9999px var(--table-accent-bg);
}

.table > tbody {
  vertical-align: inherit;
}

.table > thead {
  vertical-align: bottom;
}

/* ===================================
   TABLE HEADERS
   =================================== */

.table > thead > tr > th {
  font-weight: var(--font-semibold);
  color: var(--neutral-darker);
  background: var(--gray-50);
  border-bottom: 2px solid var(--neutral-light);
  text-transform: uppercase;
  font-size: var(--text-xs);
  letter-spacing: 0.5px;
  white-space: nowrap;
}

.table > thead > tr > th:first-child {
  border-top-left-radius: var(--table-border-radius);
}

.table > thead > tr > th:last-child {
  border-top-right-radius: var(--table-border-radius);
}

/* ===================================
   TABLE CELLS
   =================================== */

.table > tbody > tr > td {
  border-bottom: 1px solid var(--neutral-light);
transition: var(--transition-fast);
}

.table > tbody > tr:last-child > td {
  border-bottom: 0;
}

.table > tbody > tr:last-child > td:first-child {
  border-bottom-left-radius: var(--table-border-radius);
}

.table > tbody > tr:last-child > td:last-child {
  border-bottom-right-radius: var(--table-border-radius);
}

/* ===================================
 TABLE VARIANTS
   =================================== */

.table-striped > tbody > tr:nth-of-type(odd) > td,
.table-striped > tbody > tr:nth-of-type(odd) > th {
  --table-accent-bg: var(--table-striped-bg);
  color: var(--table-striped-color);
}

.table-hover > tbody > tr:hover > td,
.table-hover > tbody > tr:hover > th {
  --table-accent-bg: var(--table-hover-bg);
  color: var(--table-hover-color);
}

.table-active {
  --table-accent-bg: var(--table-active-bg);
  color: var(--table-active-color);
}

/* ===================================
   TABLE SIZES
   =================================== */

.table-sm > :not(caption) > * > * {
  padding: var(--space-2) var(--space-3);
}

.table-lg > :not(caption) > * > * {
  padding: var(--space-4) var(--space-6);
}

/* ===================================
   BORDERED TABLE
   =================================== */

.table-bordered > :not(caption) > * {
  border-width: 1px 0;
}

.table-bordered > :not(caption) > * > * {
  border-width: 0 1px;
}

/* ===================================
   BORDERLESS TABLE
   =================================== */

.table-borderless > :not(caption) > * > * {
  border-bottom-width: 0;
}

.table-borderless > :not(:first-child) {
  border-top-width: 0;
}

/* ===================================
   COLORED TABLE VARIANTS
   =================================== */

.table-primary {
  --table-bg: var(--primary-100);
  --table-striped-bg: var(--primary-200);
  --table-hover-bg: var(--primary-150);
  --table-active-bg: var(--primary-200);
  border-color: var(--primary-200);
}

.table-secondary {
  --table-bg: var(--gray-100);
  --table-striped-bg: var(--gray-200);
  --table-hover-bg: var(--gray-150);
  --table-active-bg: var(--gray-200);
  border-color: var(--gray-200);
}

.table-success {
  --table-bg: var(--success-100);
  --table-striped-bg: var(--success-200);
  --table-hover-bg: var(--success-150);
  --table-active-bg: var(--success-200);
  border-color: var(--success-200);
}

.table-warning {
  --table-bg: var(--warning-100);
  --table-striped-bg: var(--warning-200);
  --table-hover-bg: var(--warning-150);
  --table-active-bg: var(--warning-200);
  border-color: var(--warning-200);
}

.table-danger {
  --table-bg: var(--danger-100);
  --table-striped-bg: var(--danger-200);
  --table-hover-bg: var(--danger-150);
  --table-active-bg: var(--danger-200);
  border-color: var(--danger-200);
}

.table-info {
  --table-bg: var(--info-100);
  --table-striped-bg: var(--info-200);
  --table-hover-bg: var(--info-150);
  --table-active-bg: var(--info-200);
  border-color: var(--info-200);
}

.table-light {
  --table-bg: var(--gray-50);
  --table-striped-bg: var(--gray-100);
  --table-hover-bg: var(--gray-75);
  --table-active-bg: var(--gray-100);
  border-color: var(--gray-100);
}

.table-dark {
  --table-bg: var(--gray-800);
  --table-striped-bg: var(--gray-700);
  --table-hover-bg: var(--gray-750);
  --table-active-bg: var(--gray-700);
  border-color: var(--gray-700);
  color: var(--white);
}

/* ===================================
   ROW COLORS
   =================================== */

.table-primary-row {
  background-color: var(--primary-50) !important;
}

.table-secondary-row {
  background-color: var(--gray-50) !important;
}

.table-success-row {
  background-color: var(--success-50) !important;
}

.table-warning-row {
  background-color: var(--warning-50) !important;
}

.table-danger-row {
  background-color: var(--danger-50) !important;
}

.table-info-row {
  background-color: var(--info-50) !important;
}

.table-light-row {
  background-color: var(--gray-25) !important;
}

.table-dark-row {
  background-color: var(--gray-800) !important;
  color: var(--white);
}

/* ===================================
   TABLE RESPONSIVE
   =================================== */

.table-responsive {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.table-responsive > .table {
  margin-bottom: 0;
}

.table-responsive-sm {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 575.98px) {
  .table-responsive-sm > .table {
    margin-bottom: 0;
  }
}

.table-responsive-md {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 767.98px) {
  .table-responsive-md > .table {
    margin-bottom: 0;
  }
}

.table-responsive-lg {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 991.98px) {
  .table-responsive-lg > .table {
  margin-bottom: 0;
  }
}

.table-responsive-xl {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 1199.98px) {
  .table-responsive-xl > .table {
    margin-bottom: 0;
  }
}

/* ===================================
   TABLE ACTIONS
   =================================== */

.table-actions {
  white-space: nowrap;
  width: 1%;
}

.table-actions .btn {
  margin-right: var(--space-1);
}

.table-actions .btn:last-child {
  margin-right: 0;
}

.table-actions .dropdown-toggle::after {
  margin-left: var(--space-1);
}

/* ===================================
   TABLE SORTING
   =================================== */

.table-sortable th {
  cursor: pointer;
  user-select: none;
  position: relative;
  transition: var(--transition-fast);
}

.table-sortable th:hover {
  background: var(--gray-100);
}

.table-sortable th::after {
  content: '\f0dc'; /* FontAwesome sort */
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  font-size: 12px;
  position: absolute;
  right: var(--space-2);
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.3;
  transition: var(--transition-fast);
}

.table-sortable th.sort-asc::after {
  content: '\f0de'; /* FontAwesome sort-up */
  opacity: 1;
  color: var(--primary);
}

.table-sortable th.sort-desc::after {
  content: '\f0dd'; /* FontAwesome sort-down */
  opacity: 1;
  color: var(--primary);
}

/* ===================================
   TABLE SELECTION
   =================================== */

.table-selectable .table-select {
  width: 1%;
  text-align: center;
}

.table-selectable .table-select input[type="checkbox"] {
  margin: 0;
}

.table-selectable tr.selected {
  background-color: var(--primary-50) !important;
}

.table-selectable tr.selected td {
  border-color: var(--primary-200);
}

/* ===================================
   TABLE FILTERS
   =================================== */

.table-filters {
  margin-bottom: var(--space-4);
  padding: var(--space-4);
background: var(--gray-50);
  border-radius: var(--radius-md);
  border: 1px solid var(--neutral-light);
}

.table-filters .form-control,
.table-filters .form-select {
  margin-bottom: var(--space-3);
}

.table-filters .btn {
  margin-right: var(--space-2);
}

/* ===================================
   TABLE PAGINATION
   =================================== */

.table-pagination {
  margin-top: var(--space-4);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.table-pagination .pagination-info {
  font-size: var(--text-sm);
  color: var(--gray-600);
}

.table-pagination .pagination {
margin: 0;
}

/* ===================================
   DATA TABLE ENHANCEMENTS
   =================================== */

.datatable-wrapper {
  position: relative;
}

.datatable-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
  padding: var(--space-4);
  background: var(--gray-50);
  border-radius: var(--radius-md);
  border: 1px solid var(--neutral-light);
}

.datatable-search {
  max-width: 300px;
}

.datatable-length select {
  min-width: 80px;
}

.datatable-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: var(--space-4);
  padding: var(--space-4);
  background: var(--gray-50);
  border-radius: var(--radius-md);
  border: 1px solid var(--neutral-light);
}

.datatable-info {
  font-size: var(--text-sm);
  color: var(--gray-600);
}

/* ===================================
   TABLE LOADING STATE
   =================================== */

.table-loading {
  position: relative;
}

.table-loading::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.table-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 32px;
  height: 32px;
  margin: -16px 0 0 -16px;
  border: 3px solid var(--gray-200);
  border-top-color: var(--primary);
  border-radius: var(--radius-full);
  animation: table-loading-spin 1s linear infinite;
  z-index: 11;
}

@keyframes table-loading-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* ===================================
   TABLE EMPTY STATE
   =================================== */

.table-empty {
  text-align: center;
  padding: var(--space-8) var(--space-4);
  color: var(--gray-500);
}

.table-empty-icon {
  font-size: var(--text-4xl);
  margin-bottom: var(--space-4);
  opacity: 0.5;
}

.table-empty-message {
  font-size: var(--text-lg);
  margin-bottom: var(--space-2);
}

.table-empty-description {
  font-size: var(--text-sm);
  margin-bottom: var(--space-4);
}

/* ===================================
   MOBILE TABLE PATTERNS
   =================================== */

@media (max-width: 768px) {
  .table-mobile-card {
    border: 0;
  }
  
  .table-mobile-card thead {
    display: none;
  }
  
  .table-mobile-card tbody tr {
    display: block;
    margin-bottom: var(--space-4);
    background: var(--white);
    border: 1px solid var(--neutral-light);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    padding: var(--space-4);
  }
  
  .table-mobile-card tbody td {
    display: block;
    border: 0;
    text-align: right;
    padding: var(--space-2) 0;
    border-bottom: 1px solid var(--gray-100);
  }
  
  .table-mobile-card tbody td:last-child {
    border-bottom: 0;
  }
  
  .table-mobile-card tbody td::before {
    content: attr(data-label);
    float: left;
    font-weight: var(--font-semibold);
    color: var(--neutral-darker);
  }
  
  .table-mobile-stack {
    border: 0;
  }
  
  .table-mobile-stack thead {
 display: none;
  }
  
  .table-mobile-stack tbody tr {
    display: block;
    margin-bottom: var(--space-4);
 background: var(--white);
    border: 1px solid var(--neutral-light);
    border-radius: var(--radius-md);
    padding: var(--space-4);
  }
  
  .table-mobile-stack tbody td {
    display: block;
    border: 0;
    padding: var(--space-1) 0;
  }
  
  .table-mobile-stack tbody td:first-child {
    font-weight: var(--font-semibold);
    font-size: var(--text-base);
    margin-bottom: var(--space-2);
    border-bottom: 1px solid var(--gray-200);
    padding-bottom: var(--space-2);
  }
}

/* ===================================
ACCESSIBILITY
   =================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
  .table {
    border: 2px solid var(--black);
  }
  
  .table th,
  .table td {
    border: 1px solid var(--black);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .table-sortable th {
    transition: none;
  }
  
  .table-loading::after {
    animation: none;
  }
}

/* Focus styles */
.table-sortable th:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Screen reader enhancements */
.sr-only-table-sort {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===================================
   PRINT STYLES
   =================================== */

@media print {
  .table {
    border-collapse: collapse !important;
  }
  
  .table td,
  .table th {
    background-color: var(--white) !important;
  }
  
  .table-actions,
  .table-select,
  .datatable-header,
  .datatable-footer {
    display: none !important;
  }
}