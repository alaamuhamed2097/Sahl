!function(){function t(){return i.tinymce}var u,r,f,n,i,e=[],o;i="undefined"!=typeof global?global:window;n=i.jQuery;n.fn.tinymce=function(u){function v(){var i=[],r=0;f||(o(),f=!0);h.each(function(n,f){var o,e=f.id,s=u.oninit;e||(f.id=e=t().DOM.uniqueId());t().get(e)||(o=t().createEditor(e,u),i.push(o),o.on("init",function(){var u,n=s;h.css("visibility","");s&&++r==i.length&&("string"==typeof n&&(u=-1===n.indexOf(".")?null:t().resolve(n.replace(/\.\w+$/,"")),n=t().resolve(n)),n.apply(u||t(),i))}))});n.each(i,function(n,t){t.render()})}var s,y,l,h=this,a="",c;return h.length?u?(h.css("visibility","hidden"),!i.tinymce&&!r&&(s=u.script_url)?(r=1,y=s.substring(0,s.lastIndexOf("/")),-1!=s.indexOf(".min")&&(a=".min"),i.tinymce=i.tinyMCEPreInit||{base:y,suffix:a},-1!=s.indexOf("gzip")&&(l=u.language||"en",s=s+(/\?/.test(s)?"&":"?")+"js=true&core=true&suffix="+escape(a)+"&themes="+escape(u.theme||"modern")+"&plugins="+escape(u.plugins||"")+"&languages="+(l||""),i.tinyMCE_GZ||(i.tinyMCE_GZ={start:function(){function i(n){t().ScriptLoader.markDone(t().baseURI.toAbsolute(n))}i("langs/"+l+".js");i("themes/"+u.theme+"/theme"+a+".js");i("themes/"+u.theme+"/langs/"+l+".js");n.each(u.plugins.split(","),function(n,t){t&&(i("plugins/"+t+"/plugin"+a+".js"),i("plugins/"+t+"/langs/"+l+".js"))})},end:function(){}})),c=document.createElement("script"),c.type="text/javascript",c.onload=c.onreadystatechange=function(i){i=i||window.event;2!==r&&("load"==i.type||/complete|loaded/.test(c.readyState))&&(t().dom.Event.domLoaded=1,r=2,u.script_loaded&&u.script_loaded(),v(),n.each(e,function(n,t){t()}))},c.src=s,document.body.appendChild(c)):1===r?e.push(v):v(),h):t()?t().get(h[0].id):null:h};n.extend(n.expr[":"],{tinymce:function(n){var r;return!!(n.id&&"tinymce"in i&&(r=t().get(n.id))&&r.editorManager===t())}});o=function(){function o(n){"remove"===n&&this.each(function(n,t){var i=f(t);i&&i.remove()});this.find("span.mceEditor,div.mceEditor").each(function(n,i){var r=t().get(i.id.replace(/_parent$/,""));r&&r.remove()})}function s(n){var r,i=this;if(null!=n)o.call(i),i.each(function(i,r){var u;(u=t().get(r.id))&&u.setContent(n)});else if(0<i.length&&(r=t().get(i[0].id)))return r.getContent()}function e(n){return!!(n&&n.length&&i.tinymce&&n.is(":tinymce"))}var f=function(n){var r=null;return n&&n.id&&i.tinymce&&(r=t().get(n.id)),r},r={};n.each(["text","html","val"],function(t,i){var o=r[i]=n.fn[i],h="text"===i;n.fn[i]=function(t){var i=this,r,c;return e(i)?t!==u?(s.call(i.filter(":tinymce"),t),o.apply(i.not(":tinymce"),arguments),i):(r="",c=arguments,(h?i:i.eq(0)).each(function(t,i){var u=f(i);r+=u?h?u.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):u.getContent({save:!0}):o.apply(n(i),c)}),r):o.apply(i,arguments)}});n.each(["append","prepend"],function(t,i){var o=r[i]=n.fn[i],s="prepend"===i;n.fn[i]=function(n){var t=this;return e(t)?n!==u?("string"==typeof n&&t.filter(":tinymce").each(function(t,i){var r=f(i);r&&r.setContent(s?n+r.getContent():r.getContent()+n)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}});n.each(["remove","replaceWith","replaceAll","empty"],function(t,i){var u=r[i]=n.fn[i];n.fn[i]=function(){return o.call(this,i),u.apply(this,arguments)}});r.attr=n.fn.attr;n.fn.attr=function(t,i){var o=this,h=arguments,c,l;return!t||"value"!==t||!e(o)?r.attr.apply(o,h):i!==u?(s.call(o.filter(":tinymce"),i),r.attr.apply(o.not(":tinymce"),h),o):(c=o[0],l=f(c),l?l.getContent({save:!0}):r.attr.apply(n(c),h))}}}();